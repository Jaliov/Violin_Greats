require("dotenv").config();const express=require("express"),mongoose=require("mongoose"),path=require("path");var port=process.env.PORT||3e3,bodyParser=require("body-parser");const app=express();app.use(express.static(__dirname)),app.use(express.urlencoded({extended:!0})),mongoose.connect(process.env.MONGO_URI);const db=mongoose.connection;db.once("open",(()=>{console.log("Mongodb connection is a go!")}));const userSchema=new mongoose.Schema({name:String,email:String,comments:String}),Users=mongoose.model("data",userSchema);app.get("/",((req,res)=>{res.sendFile(path.join(__dirname,"../form.html"))})),app.post("/post",(async(req,res)=>{const{name:name,email:email,comments:comments}=req.body,user=new Users({name:name,email:email,comments:comments});await user.save(),console.log(user),res.send("Form Submission Sucessful! Oh wow!")})),app.listen(port,(()=>{console.log("Server started port : "+port)}));