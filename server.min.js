const express=require("express"),mongoose=require("mongoose"),path=require("path"),port=3e3,bcrypt=require("bcrypt");bcrypt.hash("wabby182",5,(function(err,hash){console.log(hash),bcrypt.compare("wabby182",hash,(function(err,result){console.log("wabby182:",result)})),bcrypt.compare("falsy",hash,(function(err,result){console.log("falsy:",result)}))}));const app=express();app.use(express.static(__dirname)),app.use(express.urlencoded({extended:!0})),mongoose.connect("mongodb+srv://contacts-user:wabby182@cluster0.sils7.mongodb.net/visitors");const db=mongoose.connection;db.once("open",(()=>{console.log("Mongodb connection is a go!")}));const userSchema=new mongoose.Schema({name:String,email:String,comments:String}),Users=mongoose.model("data",userSchema);app.get("/",((req,res)=>{res.sendFile(path.join(__dirname,"../form.html"))})),app.post("/post",(async(req,res)=>{const{name:name,email:email,comments:comments}=req.body,user=new Users({name:name,email:email,comments:comments});await user.save(),console.log(user),res.send("Form Submission Sucessful! Oh wow!")})),app.listen(3e3,(()=>{console.log("Server started port : 3000")}));